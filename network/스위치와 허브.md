# 스위치와 허브

우선 여기서 말하는 허브는 `더미 허브`를 의미합니다.

스위치와 허브는 근본적으로 OSI 참조 모델에서 활동하는 영역이 다른데요, 스위치는 2계층, 허브는 1계층 장비입니다.

공통점이라고 한다면 **여러 컴퓨터를 연결하여 회선을 공유**할 수 있다는 것입니다. 그러면 이제 차이점에 대해 알아보겠습니다.

## 동작 방식

`허브`는 **목적지를 찾지 않고 연결된 모든 포트로 데이터를 전송**합니다. 또한 **한 컴퓨터가 통신중이라면 다른 컴퓨터는 통신하지 못한다**는 단점이 있습니다. 

반면에 `스위치`는 **CAM 테이블에 MAC 주소가 저장되어 있기 때문에 특정 포트에만 데이터를 전송**(스위칭)합니다. 또한 **하나의 컴퓨터가 통신중이라도 데이터의 목적지로 구분이 되기 때문에
다른 컴퓨터도 통신이 가능**합니다.

(물론 장비가 처음 연결되거나 스위치를 재부팅하여 CAM 테이블에 MAC주소가 없다면 허브와 같은 방식으로 동작하여 MAC 주소를 저장합니다.)

## BandWidth(대역폭)

`허브`는 **포트별로 대역폭을 분할**합니다. 만약 100Mbps의 대역폭을 가진 외부 회선이 연결된 허브에 4개의 컴퓨터를 연결한다면 각 컴퓨터는 25Mbps의 대역폭을 갖게 됩니다.

`스위치`는 **포트별로 독립된 대역폭**을 갖습니다. 위와 같은 예시에서 각 컴퓨터는 100Mbps의 대역폭을 할당받습니다. 

## Duplex

허브와 스위치 모두 양방향 통신이 가능합니다. 하지만 중요한 차이점이 있습니다.

`허브`는 **`Half Duplex`방식**입니다. 이것은 양방향 통신은 가능하지만 **수신과 송신을 동시에 하지 못한다**는 단점이 있습니다. 

`스위치`는 **`Full Duplex`방식**입니다. 이것은 양방향 통신은 물론 **동시에 수신과 송신이 가능**한 방식입니다.

이론적으로 Full Duplex 방식은 대역폭이 두 배로 늘어나는 효과가 있습니다. 

## Collision

`Collision`이란 **동시에 동일한 매체에게 데이터를 전송하여 발생하는 충돌**을 의미합니다. 충돌이 발생하면 신호 수신자는 발신자의 신호가 겹치고 손상되기 때문에 신호를 이해할 수 없게됩니다.

`허브`의 경우 **하나의 링크를 공유하고 반이중 방식이기 때문에 충돌이 발생**할 수 있습니다. 그래서 허브는 대체로 CSMA/CD 방식으로 충돌을 감지하여 회비하는 방식으로 데이터를 처리합니다.

`스위치`의 경우 **링크를 공유하지 않고 전이중 방식이므로 충돌 발생이 불가능**합니다. 

이해가 잘 되지 않는다면 다음 글을 참고하시기 바랍니다. [링크](https://community.cisco.com/t5/routing/does-collision-exists-in-switches/td-p/2603901)



